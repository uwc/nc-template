!function(e){if("function"==typeof define&&define.amd){if("undefined"!=typeof requirejs){var t="[history"+(new Date).getTime()+"]",n=requirejs.onError;e.toString=function(){return t},requirejs.onError=function(e){-1===e.message.indexOf(t)&&n.call(requirejs,e)}}define([],e)}return"object"!=typeof exports||"undefined"==typeof module?e():void(module.exports=e())}(function(){function e(){}function t(e,n,r){var i=/(?:([a-zA-Z0-9\-]+\:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/;if(null==e||""===e||n)e=n?e:S.href,T&&!r||(e=e.replace(/^[^#]*/,"")||"#",e=S.protocol.replace(/:.*$|$/,":")+"//"+S.host+U.basepath+e.replace(new RegExp("^#[/]?(?:"+U.type+")?"),""));else{var a=t(),o=E.getElementsByTagName("base")[0];!r&&o&&o.getAttribute("href")&&(o.href=o.href,a=t(o.href,null,!0));var c=a._pathname,f=a._protocol;e=""+e,e=/^(?:\w+\:)?\/\//.test(e)?0===e.indexOf("/")?f+e:e:f+"//"+a._host+(0===e.indexOf("/")?e:0===e.indexOf("?")?c+e:0===e.indexOf("#")?c+a._search+e:c.replace(/[^\/]+$/g,"")+e)}C.href=e;var l=i.exec(C.href),s=l[2]+(l[3]?":"+l[3]:""),u=l[4]||"/",p=l[5]||"",h="#"===l[6]?"":l[6]||"",d=u+p+h,v=u.replace(new RegExp("^"+U.basepath,"i"),U.type)+p;return{_href:l[1]+"//"+s+d,_protocol:l[1],_host:s,_hostname:l[2],_port:l[3]||"",_pathname:u,_search:p,_hash:h,_relative:d,_nohash:v,_special:v+h}}function n(){var e=y.navigator.userAgent;return-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone")?!!A:!1}function r(){var e;try{e=y.sessionStorage,e.setItem(V+"t","1"),e.removeItem(V+"t")}catch(t){e={getItem:function(e){var t=E.cookie.split(e+"=");return t.length>1&&t.pop().split(";").shift()||"null"},setItem:function(e,t){var n={};(n[S.href]=j.state)&&(E.cookie=e+"="+O.stringify(n))}}}try{Z=O.parse(e.getItem(V))||{}}catch(t){Z={}}q(P+"unload",function(){e.setItem(V,O.stringify(Z))},!1)}function i(t,n,r,i){var a=0;r||(r={set:e},a=1);var o=!r.set,c=!r.get,f={configurable:!0,set:function(){o=1},get:function(){c=1}};try{I(t,n,f),t[n]=t[n],I(t,n,r)}catch(l){}if(!(o&&c||(t.__defineGetter__&&(t.__defineGetter__(n,f.get),t.__defineSetter__(n,f.set),t[n]=t[n],r.get&&t.__defineGetter__(n,r.get),r.set&&t.__defineSetter__(n,r.set)),o&&c))){if(a)return!1;if(t===y){try{var s=t[n];t[n]=null}catch(l){}if("execScript"in y)y.execScript("Public "+n,"VBScript"),y.execScript("var "+n+";","JavaScript");else try{I(t,n,{value:e})}catch(l){"onpopstate"===n&&(q("popstate",r=function(){D("popstate",r,!1);var e=t.onpopstate;t.onpopstate=null,setTimeout(function(){t.onpopstate=e},1)},!1),M=0)}t[n]=s}else try{try{var u=b.create(t);I(b.getPrototypeOf(u)===t?u:t,n,r);for(var p in t)"function"==typeof t[p]&&(u[p]=t[p].bind(t));try{i.call(u,u,t)}catch(l){}t=u}catch(l){I(t.constructor.prototype,n,r)}}catch(l){return!1}}return t}function a(e,t,n){return n=n||{},e=e===ee?S:e,n.set=n.set||function(n){e[t]=n},n.get=n.get||function(){return e[t]},n}function o(e,t,n){e in F?F[e].push(t):arguments.length>3?q(e,t,n,arguments[3]):q(e,t,n)}function c(e,t,n){var r=F[e];if(r){for(var i=r.length;i--;)if(r[i]===t){r.splice(i,1);break}}else D(e,t,n)}function f(t,n){var r=(""+("string"==typeof t?t:t.type)).replace(/^on/,""),a=F[r];if(a){if(n="string"==typeof t?n:t,null==n.target)for(var o=["target","currentTarget","srcElement","type"];t=o.pop();)n=i(n,t,{get:"type"===t?function(){return r}:function(){return y}});M&&(("popstate"===r?y.onpopstate:y.onhashchange)||e).call(y,n);for(var c=0,f=a.length;f>c;c++)a[c].call(y,n);return!0}return G(t,n)}function l(){var e=E.createEvent?E.createEvent("Event"):E.createEventObject();e.initEvent?e.initEvent("popstate",!1,!1):e.type="popstate",e.state=j.state,f(e)}function s(){Q&&(Q=!1,l())}function u(e,n,r,i){if(T)J=S.href;else{0===W&&(W=2);var a=t(n,2===W&&-1!==(""+n).indexOf("#"));a._relative!==t()._relative&&(J=i,r?S.replace("#"+a._special):S.hash=a._special)}!$&&e&&(Z[S.href]=e),Q=!1}function p(e){var n=J;if(J=S.href,n){z!==S.href&&l(),e=e||y.event;var r=t(n,!0),i=t();e.oldURL||(e.oldURL=r._href,e.newURL=i._href),r._hash!==i._hash&&f(e)}}function h(e){setTimeout(function(){q("popstate",function(e){z=S.href,$||(e=i(e,"state",{get:function(){return j.state}})),f(e)},!1)},0),!T&&e!==!0&&"location"in j&&(g(L.hash),s())}function d(e){for(;e;){if("A"===e.nodeName)return e;e=e.parentNode}}function v(e){var n=e||y.event,r=d(n.target||n.srcElement),i="defaultPrevented"in n?n.defaultPrevented:n.returnValue===!1;if(r&&"A"===r.nodeName&&!i){var a=t(),o=t(r.getAttribute("href",2)),c=a._href.split("#").shift()===o._href.split("#").shift();c&&o._hash&&(a._hash!==o._hash&&(L.hash=o._hash),g(o._hash),n.preventDefault?n.preventDefault():n.returnValue=!1)}}function g(e){var t=E.getElementById(e=(e||"").replace(/^#/,""));if(t&&t.id===e&&"A"===t.nodeName){var n=t.getBoundingClientRect();y.scrollTo(x.scrollLeft||0,n.top+(x.scrollTop||0)-(x.clientTop||0))}}function _(){var e=E.getElementsByTagName("script"),n=(e[e.length-1]||{}).src||"",o=-1!==n.indexOf("?")?n.split("?").pop():"";o.replace(/(\w+)(?:=([^&]*))?/g,function(e,t,n){U[t]=(n||"").replace(/^(0|false)$/,"")}),q(P+"hashchange",p,!1);var c=[ee,L,K,y,Y,j];$&&delete Y.state;for(var f=0;f<c.length;f+=2)for(var l in c[f])if(c[f].hasOwnProperty(l))if("object"!=typeof c[f][l])c[f+1][l]=c[f][l];else{var s=a(c[f],l,c[f][l]);if(!i(c[f+1],l,s,function(e,t){t===j&&(y.history=j=c[f+1]=e)}))return D(P+"hashchange",p,!1),!1;c[f+1]===y&&(F[l]=F[l.substr(2)]=[])}return j.setup(),U.redirect&&j.redirect(),U.init&&(W=1),!$&&O&&r(),T||E[N](P+"click",v,!1),"complete"===E.readyState?h(!0):(T||t()._relative===U.basepath||(Q=!0),q(P+"load",h,!1)),!0}var y=("object"==typeof window?window:this)||{};if(!y.history||"emulate"in y.history)return y.history;var m,E=y.document,x=E.documentElement,b=y.Object,O=y.JSON,S=y.location,w=y.history,j=w,A=w.pushState,R=w.replaceState,T=n(),$="state"in w,I=b.defineProperty,L=i({},"t")?{}:E.createElement("a"),P="",N=y.addEventListener?"addEventListener":(P="on")&&"attachEvent",B=y.removeEventListener?"removeEventListener":"detachEvent",k=y.dispatchEvent?"dispatchEvent":"fireEvent",q=y[N],D=y[B],G=y[k],U={basepath:"/",redirect:0,type:"/",init:0},V="__historyAPI__",C=E.createElement("a"),J=S.href,z="",M=1,Q=!1,W=0,Z={},F={},H=E.title,K={onhashchange:null,onpopstate:null},X=function(e,t){var n=y.history!==w;n&&(y.history=w),e.apply(w,t),n&&(y.history=j)},Y={setup:function(e,t,n){U.basepath=(""+(null==e?U.basepath:e)).replace(/(?:^|\/)[^\/]*$/,"/"),U.type=null==t?U.type:t,U.redirect=null==n?U.redirect:!!n},redirect:function(e,n){if(j.setup(n,e),n=U.basepath,y.top==y.self){var r=t(null,!1,!0)._relative,i=S.pathname+S.search;T?(i=i.replace(/([^\/])$/,"$1/"),r!=n&&new RegExp("^"+n+"$","i").test(i)&&S.replace(r)):i!=n&&(i=i.replace(/([^\/])\?/,"$1/?"),new RegExp("^"+n,"i").test(i)&&S.replace(n+"#"+i.replace(new RegExp("^"+n,"i"),U.type)+S.hash))}},pushState:function(e,t,n){var r=E.title;null!=H&&(E.title=H),A&&X(A,arguments),u(e,n),E.title=r,H=t},replaceState:function(e,t,n){var r=E.title;null!=H&&(E.title=H),delete Z[S.href],R&&X(R,arguments),u(e,n,!0),E.title=r,H=t},location:{set:function(e){0===W&&(W=1),y.location=e},get:function(){return 0===W&&(W=1),L}},state:{get:function(){return"object"==typeof Z[S.href]?O.parse(O.stringify(Z[S.href])):"undefined"!=typeof Z[S.href]?Z[S.href]:null}}},ee={assign:function(e){T||0!==(""+e).indexOf("#")?S.assign(e):u(null,e)},reload:function(e){S.reload(e)},replace:function(e){T||0!==(""+e).indexOf("#")?S.replace(e):u(null,e,!0)},toString:function(){return this.href},origin:{get:function(){return void 0!==m?m:S.origin?S.origin:S.protocol+"//"+S.hostname+(S.port?":"+S.port:"")},set:function(e){m=e}},href:T?null:{get:function(){return t()._href}},protocol:null,host:null,hostname:null,port:null,pathname:T?null:{get:function(){return t()._pathname}},search:T?null:{get:function(){return t()._search}},hash:T?null:{set:function(e){u(null,(""+e).replace(/^(#|)/,"#"),!1,J)},get:function(){return t()._hash}}};return _()?(j.emulate=!T,y[N]=o,y[B]=c,y[k]=f,j):void 0}),function(e){e(function(){e.timeago&&e("time").timeago()})}(jQuery);
//# sourceMappingURL=pageloader.js.map
